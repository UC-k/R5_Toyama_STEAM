# R5_富山高校_総合的な探究の時間(STEAM活動)

<br>

- 富山高校の総合的な探究の時間で扱う演習教材です。基本的に順に沿って進めてください。
- わからない箇所があれば先生に質問してください。
- 扱う内容はPythonの`tkinter（画面生成）`、`for文（繰り返し）`、`if文（条件分岐）`、`リスト（配列）`、`線形探索`、`関数`です。
- 演習を通して診断アプリ（デスクトップアプリケーション）を作成します。
- 最終的に、個人でオリジナルの診断アプリを作成して提出・発表してもらいます。

<br>

## 目次

<details><summary>クリックで表示・非表示の切り替え</summary>

<br>
0. コードの説明について<br>
1. GUI<br>
&emsp;1-1. GUIとは<br>
&emsp;1-2. tkinterとは<br>


</details>

<br>


## 0. コードの説明について
Githubでは、プログラムは以下ようなブロックに囲まれた画面になります。
``` python
# 1. 変数xに1を代入
x = 1
# 2. 変数yに2を代入
y = 2
# 3. xとyの加算を表示する
print(x + y)
```
- プログラムの説明はコメントアウトで記していきます。
- ブロック外にコメントアウトでの説明以外に、より詳しい説明内容の`プログラムの説明`を記していますが、最初から全て理解するのは困難です。
- そのため、最初はコメントアウトの説明を理解して「**このコードはこの処理をしているんだな**」とプログラムの流れを掴んでください。
- また、コードを囲んだブロックの右上には、コピーができるアイコンが表示されます。
- 必要に応じて自分でプログラムを書き写したり、コピーして貼り付けたりしましょう。

<br>

## 1. GUI

<br>

### 1-1. GUIとは
- **GUI**（Graphical User Interface）とは、コンピュータの画面上に表示されるウィンドウやアイコン、ボタン、プルダウンメニューなどを使い、マウスなどのポインティングデバイスで操作できるインターフェイスのことです。<br>
- 文字によるコマンド入力方式の**CUI**（Character User Interface）と比較して、GUIはより直感的にユーザが操作しやすいインターフェイスとなっています。

<br>

### 1-2. tkinterとは
- **tkinter**とは、Pythonでグラフィック関連（表示・操作）のソフトウェアを開発するためのライブラリです。<br>
- PythonでGUIを扱うためのライブラリはいくつか存在しますが、tkinterはPython標準ライブラリのため、比較的導入が容易であり、デスクトップアプリケーションの開発に向いています。

<br>

## 2. 画面の作成と設定

<br>

tkinterを使用して、まずは画面を作成してみましょう。<br>
以下のコードを実行してください。
``` python
# 1. tkinterをインポート
import tkinter as tk
# 2. 画面の作成
root = tk.Tk()
# 3. タイトルを作成
root.title("はじめての画面作成")
# 4. 画面の大きさを指定
root.geometry("900x700")
# 5. 画面を拡大・縮小できないように設定
root.resizable(False, False)
# 6. メインループ
root.mainloop()
```
以上のプログラムを実行すると、画面上に新たなウィンドウが作成されます。<br>
もし画面上に出てきていないならば、プログラムが間違っているか、もしくは他のウィンドウで隠れている可能性があります。<br><br>

<div align="center">
<img src="./mdimg/screen.png" width="50%">
</div>

**`プログラムの説明`**<br>
1. tkinterを使用するために、tkinterモジュールをインポートします。<br>以降、tkinterを使用するたびに「tkinter」と書くことを省略するため、`tkinter as tk`でtkinterを「tk」とします。
2. ウィンドウ画面を作成します。
3. 作成したウィンドウ画面の上部に表示されるタイトルを作成します。
4. 作成したウィンドウ画面の大きさを指定します。<br>数値は順に画面の横幅、高さとなっており、今回の場合は横幅が900px、高さが700pxとなります。
5. ウィンドウをマウス操作で拡大・縮小できないようにします。<br>
6. ウィンドウを表示するメソッドです。<br>メインループはアプリの待機とイベントの処理を担います。

<br>

## 3. キャンバスの作成と画像の配置

<br>

tkinterで画面を作成できました。次は画面に画像を配置してみましょう。<br>
画像を配置する際、さきほど作成した画面には直接配置できないため、キャンバスというウィジェットを新たに用意します。<br>
イメージとしては、板`（画面）`の上に紙`（キャンバス）`を貼り、そこに絵`（画像）`を描くようなものです。<br>
それではまずキャンバスを作成してみましょう。

<br>

### 3-1. キャンバスの作成
*以下のプログラムはこのコードのみでは動作しません。*
``` python
# 1. キャンバスを定義
cvs = tk.Canvas(root, width=900, height=700)
# 2. キャンバスを配置
cvs.pack()
```
<br>

**`プログラムの説明`**<br>
1. はじめにキャンバスを定義します。<br>第一引数にはキャンバスを置くウィジェット、第二、第三引数にはキャンバスのサイズを指定します。キャンバスの大きさは画面の大きさに合わせておくと画面にキャンバスがピッタリと収まります。
2. キャンバスを`pack()`で画面に配置します。

<br>

### 3-2. キャンバスに画像を配置
*以下のプログラムはこのコードのみでは動作しません。*
``` python
# 1. 使用する画像を定義
img = tk.PhotoImage(file="./image.png")
# 2 .画像をキャンバスに配置
cvs.create_image(0, 0, anchor="nw", image=img, tag="start_image")
```
<br>

**`プログラムの説明`**<br>
1. 使用する画像を定義するため、画像の保存先を`file=`の後に記述します。
2. （）の中は画像をどのように配置するか設定しています。<br>
   第一引数、第二引数にはそれぞれ画像を配置するx座標、y座標が入ります。<br>
   第三引数にはそのx座標、y座標を画像のどの部分に当てはめるかを指定します。<br>
   anchorは方角を指していて、`nw`ならば北西、`se`ならば南東になります。（下の図を参照）<br>
   <!-- ここにanchorの図を挿入 -->
   今回はanchorが`nw`、座標が（0,0）なので、画像の左上が(x,y)=(0,0)となるように配置されます。<br>
   第四引数には使用する画像を指定します。<br>
   第五引数では配置した画像にタグ（任意の名前）をつけることができます。後に画像を消去する際などに使用します。

<br>

### 3-3. キャンバスに画像を配置するまでの流れ

それでは実際に画面とキャンバスを作成してから画像を配置してみましょう。<br>
[リンク先の画像](https://github.com/UC-k/R5_Toyama_STEAM/blob/main/mdimg/image.png)を保存して、プログラムと同じ階層に置いてください。<br>
保存した画像の名前は「image.png」としておきましょう。<br>
以下のようにプログラムと画像が同じ場所にあれば次に進んでください。<br>
<!-- Windowsでのファイルの参照画像を入れる -->
それでは、今までのコードをまとめ、以下を実行してみましょう。

``` python
# 1. 画面の作成
root = tk.Tk()
# 2. タイトルを作成
root.title("○○診断")
# 3. 画面の大きさを指定
root.geometry("900x700")
# 4. 画面を拡大・縮小できないように設定
root.resizable(False, False)
# ----------------------------------------
# 5. キャンバスを定義
cvs = tk.Canvas(root, width=900, height=700)
# 6. キャンバスを配置
cvs.pack()
# ----------------------------------------
# 7. 使用する画像を定義
img = tk.PhotoImage(file="./mding/image.png")
# 8. 画像をキャンバスに配置
cvs.create_image(0, 0, anchor="nw", image=img, tag="start_image")
# ----------------------------------------
# 9. メインループ
root.mainloop()
```
<!-- ここで上のコードの実行画面のスクショを入れる -->

<br>

## 4. 画面にテキストを入れる

<br>

tkinterでは、画面にテキストを入れることができます。<br>
いくつか種類がありますが、ここでは**ラベル**を用います。<br>
ラベルはキャンバスではなく画面に配置することができます。<br>
以下がラベルを配置するプログラムになります。<br>
*（以下のプログラムはこのコードのみでは動作しません。）*

``` python
# 1. ラベル（テキスト）を定義
title_label = tk.Label(text="○○診断",
                       fg="white", bg="#8dcdbe",
                       font=("游ゴシック", 50)
                       )
# 2. ラベル（テキスト）を配置
title_label.place(x=450, y=300, anchor="c")
```

<br>

**`プログラムの説明`**<br>
1. 最初にラベルを定義します。<br>
   第一引数には表示するテキストを指定します。<br>
   第二引数では文字の色（fg）を、第三では文字の背景色（bg）を指定します。